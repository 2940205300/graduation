(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{"1e0b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[a("el-button",{staticStyle:{margin:"0 auto"},attrs:{type:"primary",round:""},on:{click:t.handleAdd}},[t._v("添加分类")]),a("el-dialog",{attrs:{title:"分类管理",visible:t.dialogFormVisibleForAdd},on:{"update:visible":function(e){t.dialogFormVisibleForAdd=e}}},[a("el-form",{attrs:{model:t.handleEditform}},[a("el-form-item",{attrs:{label:"分类名称 ","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.handleEditform.category_name,callback:function(e){t.$set(t.handleEditform,"category_name",e)},expression:"handleEditform.category_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisibleForAdd=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.AddOk}},[t._v("确 定")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"分类",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.c_name))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row.c_id,e.row.c_name)}}},[t._v("编辑")]),a("el-dialog",{attrs:{title:"分类管理",visible:t.dialogFormVisibleForEdit},on:{"update:visible":function(e){t.dialogFormVisibleForEdit=e}}},[a("el-form",{attrs:{model:t.handleEditform}},[a("el-form-item",{attrs:{label:"分类名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},on:{blur:function(e){return t.select_value(t.handleEditform.category_name)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"active",void 0,e.key,void 0)?null:(e.preventDefault(),t.EditOk(e))}},model:{value:t.handleEditform.category_name,callback:function(e){t.$set(t.handleEditform,"category_name",e)},expression:"handleEditform.category_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisibleForEdit=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.EditOk}},[t._v("确 定")])],1)],1)]}}])})],1)],1)},i=[],n=a("bc3a"),l=a.n(n),d=a("5c96"),r=(a("ed08"),{name:"",inject:["reload"],components:{},data:function(){return{tableData:[],dialogFormVisibleForAdd:!1,dialogFormVisibleForEdit:!1,handleEditform:{category_name:""},c_id:" ",c_name:"",formLabelWidth:"100px"}},computed:{},created:function(){},mounted:function(){var t=this;l.a.get("/api/admin/category").then((function(e){t.tableData=e.data.data}))},methods:{handleAdd:function(){this.dialogFormVisibleForAdd=!0},AddOk:function(){var t=this;this.dialogFormVisibleForAdd=!1,console.log(this.handleEditform.category_name),l.a.post("/api/admin/addcategory",{c_name:this.handleEditform.category_name}).then((function(e){t.reload()}))},handleEdit:function(t,e,a){this.dialogFormVisibleForEdit=!0,this.c_id=e,this.handleEditform.category_name=a},EditOk:function(){var t=this;this.dialogFormVisibleForEdit=!1,this.handleEditform.category_name="",""!=this.c_name?l.a.get("/api/admin/updatecategory",{params:{c_id:this.c_id,c_name:this.c_name}}).then((function(e){Object(d["Message"])({message:"修改成功",type:"success"}),t.reload()})):Object(d["Message"])({message:"内容不能为空",type:"warning"})},handleDelete:function(t,e){var a=this;console.log(e),l.a.delete("/api/admin/deletecategory",{params:{c_id:e}}).then((function(t){a.reload()}))},select_value:function(t){this.c_name=t}}}),c=r,s=a("2877"),m=Object(s["a"])(c,o,i,!1,null,"79be2690",null);e["default"]=m.exports}}]);
//# sourceMappingURL=category.4007104f.js.map