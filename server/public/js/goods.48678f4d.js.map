{"version":3,"sources":["webpack:///./src/views/dynamic_view/goods.vue?43f5","webpack:///src/views/dynamic_view/goods.vue","webpack:///./src/views/dynamic_view/goods.vue?b9dc","webpack:///./src/views/dynamic_view/goods.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","on","handleAdd","_v","dialogFormVisibleForAdd","$event","ref","AddEditform","formLabelWidth","model","value","callback","$$v","$set","expression","select_value","select_val","_l","item","key","c_id","c_name","handleChange","beforeUpload","staticClass","dialogVisible","imageUrl","slot","AddOk","tableData","scopedSlots","_u","fn","scope","srcList","directives","name","rawName","row","show","_s","g_name","g_author","g_price","g_press","handleEdit","$index","handleDelete","g_id","g_img","dialogFormVisibleForEdit","handleEditform","fontnum","EditOk","staticRenderFns","component"],"mappings":"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,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQR,EAAI4D,SAAS,CAAC5D,EAAIU,GAAG,UAAU,IAAI,IAAI,IAC7vJmD,EAAkB,G,2CCwPtB,GACA,QACA,kBACA,cACA,KAJA,WAKA,OACA,aACA,YACA,WACA,2BACA,4BACA,uBACA,aAEA,aACA,QACA,YACA,SACA,UACA,SACA,QACA,WACA,QACA,YACA,SAGA,gBACA,MACA,QACA,YACA,SACA,UACA,SACA,QACA,WACA,QACA,YACA,SAEA,iBACA,OACA,YACA,gBAGA,YACA,QA/CA,WA+CA,WACA,iDACA,2BAGA,8CACA,wBAEA,SAgBA,IADA,SACA,6BACA,OACA,+CACA,sBAGA,gBAGA,QAhFA,aAkFA,mBAlFA,SAkFA,KAGA,SAEA,UAFA,WAGA,iCAGA,KANA,WAOA,iBACA,uBAIA,WAZA,SAYA,KAEA,aAdA,SAcA,gBACA,sCACA,uBACA,sBACA,iBAEA,iBACA,sBACA,IACA,iCACA,QACA,KACA,SAGA,kBACA,WACA,YACA,eACA,wBAIA,kBACA,YACA,eACA,sBAKA,WA7CA,SA6CA,KAEA,iCACA,8BACA,kCACA,sCACA,oCACA,sCACA,oCACA,kCACA,wCACA,kCACA,sCAGA,OA5DA,WA4DA,WACA,eACA,wCACA,8BACA,4CACA,2CACA,8CACA,gDACA,8CACA,+CACA,SACA,SACA,4DAEA,kDACA,4CAIA,IACA,iCACA,SACA,wCAGA,kBACA,8BACA,eAKA,aA5FA,SA4FA,KAEA,iBAGA,aAjGA,SAiGA,GAEA,yBAIA,OAHA,GACA,uCAEA,GAGA,aA1GA,SA0GA,GACA,yCACA,sBAEA,oCACA,6BAKA,MApHA,WAoHA,WACA,eACA,8BACA,yCACA,2CACA,2CACA,6CACA,2CACA,SACA,SACA,yDAEA,+CACA,yCACA,IACA,8BACA,SACA,wCAGA,kBACA,6BACA,iBC1d8V,I,YCO1VC,EAAY,eACd,EACA/D,EACA8D,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/goods.48678f4d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"20px\",\"overflow\":\"auto\"}},[_c('el-button',{staticStyle:{\"margin\":\"0 auto\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加\")]),_c('el-dialog',{attrs:{\"title\":\"商品管理\",\"visible\":_vm.dialogFormVisibleForAdd},on:{\"update:visible\":function($event){_vm.dialogFormVisibleForAdd=$event}}},[_c('el-form',{ref:\"AddEditform\",attrs:{\"model\":_vm.AddEditform}},[_c('el-form-item',{attrs:{\"label\":\"图书名称 \",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.AddEditform.name),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"name\", $$v)},expression:\"AddEditform.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图书分类  \",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{staticStyle:{\"margin-right\":\"20px\"},on:{\"change\":_vm.select_value},model:{value:(_vm.select_val),callback:function ($$v) {_vm.select_val=$$v},expression:\"select_val\"}},_vm._l((_vm.ClassName),function(item){return _c('el-option',{key:item.c_id,attrs:{\"value\":item.c_name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"售价\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.AddEditform.price),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"price\", $$v)},expression:\"AddEditform.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作者\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.AddEditform.author),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"author\", $$v)},expression:\"AddEditform.author\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出版社\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.AddEditform.press),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"press\", $$v)},expression:\"AddEditform.press\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出版时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.AddEditform.time),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"time\", $$v)},expression:\"AddEditform.time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字数\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.AddEditform.fontnum),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"fontnum\", $$v)},expression:\"AddEditform.fontnum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"autocomplete\":\"off\"},model:{value:(_vm.AddEditform.info),callback:function ($$v) {_vm.$set(_vm.AddEditform, \"info\", $$v)},expression:\"AddEditform.info\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"label-width\":_vm.formLabelWidth}},[_c('el-upload',{attrs:{\"action\":\"http://127.0.0.1:3000/api/admin/order\",\"list-type\":\"picture-card\",\"accept\":\"image/jpeg,image/jpg,image/png\",\"limit\":1,\"auto-upload\":false,\"on-change\":_vm.handleChange,\"before-upload\":_vm.beforeUpload}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.AddEditform.imageUrl,\"alt\":\"\"}})])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisibleForAdd = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.AddOk('AddEditform')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"缩略图\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\",\"display\":\"block\"}},[_c('viewer',{attrs:{\"images\":_vm.srcList}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(\n\t\t\t\t\t\t\t\t(\"http://127.0.0.1:3000/assets/uploads/images/\" + (scope.row.g_img))\n\t\t\t\t\t\t\t),expression:\"\\n\\t\\t\\t\\t\\t\\t\\t\\t`http://127.0.0.1:3000/assets/uploads/images/${scope.row.g_img}`\\n\\t\\t\\t\\t\\t\\t\\t\"}],staticStyle:{\"width\":\"90px\",\"height\":\"110px\"},attrs:{\"alt\":\"\"},on:{\"click\":_vm.show}})])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"图书名称\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.g_name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"作者\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.g_author))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"价格\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.g_price))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"出版社\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.g_press))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.g_id, scope.row.g_img)}},slot:\"reference\"},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"商品管理\",\"visible\":_vm.dialogFormVisibleForEdit},on:{\"update:visible\":function($event){_vm.dialogFormVisibleForEdit=$event}}},[_c('el-form',{attrs:{\"model\":_vm.handleEditform}},[_c('el-form-item',{attrs:{\"label\":\"图书名称 \",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.handleEditform.name),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"name\", $$v)},expression:\"handleEditform.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图书分类  \",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{staticStyle:{\"margin-right\":\"20px\"},on:{\"change\":_vm.select_value},model:{value:(_vm.handleEditform.category),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"category\", $$v)},expression:\"handleEditform.category\"}},_vm._l((_vm.ClassName),function(item){return _c('el-option',{key:item.c_id,attrs:{\"value\":item.c_name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"售价\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.handleEditform.price),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"price\", $$v)},expression:\"handleEditform.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"作者\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.handleEditform.author),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"author\", $$v)},expression:\"handleEditform.author\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出版社\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.handleEditform.press),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"press\", $$v)},expression:\"handleEditform.press\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出版时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.handleEditform.time),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"time\", $$v)},expression:\"handleEditform.time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"字数\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.handleEditform.fontnum + '万字'),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"fontnum + '万字'\", $$v)},expression:\"handleEditform.fontnum + '万字'\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"autocomplete\":\"off\"},model:{value:(_vm.handleEditform.info),callback:function ($$v) {_vm.$set(_vm.handleEditform, \"info\", $$v)},expression:\"handleEditform.info\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片\",\"label-width\":_vm.formLabelWidth}},[_c('el-upload',{attrs:{\"action\":\"http://127.0.0.1:3000/api/admin/order\",\"list-type\":\"picture-card\",\"accept\":\"image/jpeg,image/jpg,image/png\",\"limit\":1,\"auto-upload\":false,\"on-change\":_vm.handleChange,\"before-upload\":_vm.beforeUpload}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.handleEditform.imageUrl,\"alt\":\"\"}})])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisibleForEdit = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.EditOk}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Autor: deng\r\n * @Date: 2021-06-22 00:21:37\r\n * @LastEditors: deng\r\n * @LastEditTime: 2021-06-22 00:28:45\r\n-->\r\n<template>\r\n\t<div style=\"margin: 20px; overflow: auto\">\r\n\t\t<!-- 添加 -->\r\n\t\t<el-button type=\"primary\" round style=\"margin: 0 auto\" @click=\"handleAdd\"\r\n\t\t\t>添加</el-button\r\n\t\t>\r\n\t\t<!-- 添加表单 -->\r\n\t\t<el-dialog title=\"商品管理\" :visible.sync=\"dialogFormVisibleForAdd\">\r\n\t\t\t<el-form :model=\"AddEditform\" ref=\"AddEditform\">\r\n\t\t\t\t<!-- 图书名称 -->\r\n\t\t\t\t<el-form-item label=\"图书名称 \" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"AddEditform.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 图书分类 -->\r\n\t\t\t\t<el-form-item label=\"图书分类  \" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t\t@change=\"select_value\"\r\n\t\t\t\t\t\tv-model=\"select_val\"\r\n\t\t\t\t\t\tstyle=\"margin-right: 20px\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in ClassName\"\r\n\t\t\t\t\t\t\t:key=\"item.c_id\"\r\n\t\t\t\t\t\t\t:value=\"item.c_name\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 售价 -->\r\n\t\t\t\t<el-form-item label=\"售价\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"AddEditform.price\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--作者 -->\r\n\t\t\t\t<el-form-item label=\"作者\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"AddEditform.author\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--出版社 -->\r\n\t\t\t\t<el-form-item label=\"出版社\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"AddEditform.press\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--出版时间 -->\r\n\t\t\t\t<el-form-item label=\"出版时间\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\tv-model=\"AddEditform.time\"\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--字数 -->\r\n\t\t\t\t<el-form-item label=\"字数\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"AddEditform.fontnum\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--图书简介 -->\r\n\t\t\t\t<el-form-item label=\"简介\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\t:rows=\"5\"\r\n\t\t\t\t\t\tv-model=\"AddEditform.info\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 上传图片 -->\r\n\t\t\t\t<el-form-item label=\"上传图片\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-upload\r\n\t\t\t\t\t\taction=\"http://127.0.0.1:3000/api/admin/order\"\r\n\t\t\t\t\t\tlist-type=\"picture-card\"\r\n\t\t\t\t\t\taccept=\"image/jpeg,image/jpg,image/png\"\r\n\t\t\t\t\t\t:limit=\"1\"\r\n\t\t\t\t\t\t:auto-upload=\"false\"\r\n\t\t\t\t\t\t:on-change=\"handleChange\"\r\n\t\t\t\t\t\t:before-upload=\"beforeUpload\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t<el-dialog :visible.sync=\"dialogVisible\">\r\n\t\t\t\t\t\t<img width=\"100%\" :src=\"AddEditform.imageUrl\" alt=\"\" />\r\n\t\t\t\t\t</el-dialog>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisibleForAdd = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"AddOk('AddEditform')\"\r\n\t\t\t\t\t>确 定</el-button\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<el-table :data=\"tableData\" style=\"width: 100%\">\r\n\t\t\t<!--缩略图-->\r\n\t\t\t<el-table-column label=\"缩略图\" width=\"200\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px; display: block\">\r\n\t\t\t\t\t\t<viewer :images=\"srcList\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tstyle=\"width: 90px; height: 110px\"\r\n\t\t\t\t\t\t\t\tv-lazy=\"\r\n\t\t\t\t\t\t\t\t\t`http://127.0.0.1:3000/assets/uploads/images/${scope.row.g_img}`\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t@click=\"show\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</viewer>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<!--图书名称-->\r\n\t\t\t<el-table-column label=\"图书名称\" width=\"240\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.g_name }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<!--作者-->\r\n\t\t\t<el-table-column label=\"作者\" width=\"230\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.g_author }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<!--价格-->\r\n\t\t\t<el-table-column label=\"价格\" width=\"230\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.g_price }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<!--出版社-->\r\n\t\t\t<el-table-column label=\"出版社\" width=\"230\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.g_press }}</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<!-- 操作 -->\r\n\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<!-- 编辑 -->\r\n\t\t\t\t\t<el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\r\n\t\t\t\t\t\t>编辑</el-button\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<!-- 删除 -->\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tstyle=\"margin-left: 20px\"\r\n\t\t\t\t\t\tsize=\"mini\"\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\tslot=\"reference\"\r\n\t\t\t\t\t\t@click=\"handleDelete(scope.row.g_id, scope.row.g_img)\"\r\n\t\t\t\t\t\t>删除</el-button\r\n\t\t\t\t\t>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<!-- 编辑表单  -->\r\n\t\t<el-dialog title=\"商品管理\" :visible.sync=\"dialogFormVisibleForEdit\">\r\n\t\t\t<el-form :model=\"handleEditform\">\r\n\t\t\t\t<!-- 图书名称 -->\r\n\t\t\t\t<el-form-item label=\"图书名称 \" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input v-model=\"handleEditform.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 图书分类 -->\r\n\t\t\t\t<el-form-item label=\"图书分类  \" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t@change=\"select_value\"\r\n\t\t\t\t\t\tv-model=\"handleEditform.category\"\r\n\t\t\t\t\t\tstyle=\"margin-right: 20px\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in ClassName\"\r\n\t\t\t\t\t\t\t:key=\"item.c_id\"\r\n\t\t\t\t\t\t\t:value=\"item.c_name\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 售价 -->\r\n\t\t\t\t<el-form-item label=\"售价\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"handleEditform.price\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--作者 -->\r\n\t\t\t\t<el-form-item label=\"作者\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"handleEditform.author\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--出版社 -->\r\n\t\t\t\t<el-form-item label=\"出版社\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"handleEditform.press\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--出版时间 -->\r\n\t\t\t\t<el-form-item label=\"出版时间\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\tv-model=\"handleEditform.time\"\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--字数 -->\r\n\t\t\t\t<el-form-item label=\"字数\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"handleEditform.fontnum + '万字'\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!--图书简介 -->\r\n\t\t\t\t<el-form-item label=\"简介\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\t:rows=\"5\"\r\n\t\t\t\t\t\tv-model=\"handleEditform.info\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t<el-form-item label=\"图片\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-upload\r\n\t\t\t\t\t\taction=\"http://127.0.0.1:3000/api/admin/order\"\r\n\t\t\t\t\t\tlist-type=\"picture-card\"\r\n\t\t\t\t\t\taccept=\"image/jpeg,image/jpg,image/png\"\r\n\t\t\t\t\t\t:limit=\"1\"\r\n\t\t\t\t\t\t:auto-upload=\"false\"\r\n\t\t\t\t\t\t:on-change=\"handleChange\"\r\n\t\t\t\t\t\t:before-upload=\"beforeUpload\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"el-icon-plus\"></i>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t<el-dialog>\r\n\t\t\t\t\t\t<img width=\"100%\" :src=\"handleEditform.imageUrl\" alt=\"\" />\r\n\t\t\t\t\t</el-dialog>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisibleForEdit = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"EditOk\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n\tname: \"\",\r\n\tinject: [\"reload\"],\r\n\tcomponents: {},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttableData: [],\r\n\t\t\tfits: \"fill\",\r\n\t\t\tsrcList: [], //图片预览路径\r\n\t\t\tdialogFormVisibleForAdd: false, //添加\r\n\t\t\tdialogFormVisibleForEdit: false, //编辑\r\n\t\t\tformLabelWidth: \"100px\",\r\n\t\t\tClassName: [], //分类列表\r\n\t\t\t//添加\r\n\t\t\tAddEditform: {\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tcategory: \"\",\r\n\t\t\t\tprice: \"\",\r\n\t\t\t\tauthor: \"\",\r\n\t\t\t\tpress: \"\",\r\n\t\t\t\ttime: \"\",\r\n\t\t\t\tfontnum: \"\",\r\n\t\t\t\tinfo: \"\",\r\n\t\t\t\timageUrl: \"\",\r\n\t\t\t\tfile: \"\",\r\n\t\t\t},\r\n\t\t\t// 编辑\r\n\t\t\thandleEditform: {\r\n\t\t\t\tid:\"\",\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tcategory: \"\",\r\n\t\t\t\tprice: \"\",\r\n\t\t\t\tauthor: \"\",\r\n\t\t\t\tpress: \"\",\r\n\t\t\t\ttime: \"\",\r\n\t\t\t\tfontnum: \"\",\r\n\t\t\t\tinfo: \"\",\r\n\t\t\t\timageUrl: \"\",\r\n\t\t\t\tfile: \"\",\r\n\t\t\t},\r\n\t\t\tdialogVisible: false,\r\n\t\t\tarr: [],\r\n\t\t\tformData: {},\r\n\t\t\tselect_val: \"\",\r\n\t\t};\r\n\t},\r\n\tcomputed: {},\r\n\tcreated() {\r\n\t\taxios.get(\"/api/admin/category\").then((res) => {\r\n\t\t\tthis.ClassName = res.data.data;\r\n\t\t});\r\n\r\n\t\taxios.get(\"/api/admin/goods\").then((res) => {\r\n\t\t\tthis.tableData = res.data.data;\r\n\t\t\t// let arr=[]\r\n\t\t\tarr = res.data;\r\n\t\t\t// console.log(arr.length);\r\n\t\t\t// if (arr.length > 10) {\r\n\t\t\t// \tthis.tableData = [];\r\n\t\t\t// \tthis.tableData = tableData.slice(0, 10);\r\n\t\t\t// \tsetTimeout(function () {\r\n\t\t\t// \t\tfor (let i = 11; i < tableData.length; i++) {\r\n\t\t\t// \t\t\tthis.tableData.push(tableData[i]);\r\n\t\t\t// \t\t}\r\n\t\t\t// \t},1000);\r\n\t\t\t// } else {\r\n\t\t\t// \tthis.tableData = tableData;\r\n\t\t\t// }\r\n\r\n\t\t\t// 图片预览\r\n\t\t\tlet arr = [];\r\n\t\t\tfor (let i = 0; i < this.tableData.length; i++) {\r\n\t\t\t\tarr.push(\r\n\t\t\t\t\t\"http://127.0.0.1:3000/assets/uploads/images/\" +\r\n\t\t\t\t\t\tthis.tableData[i].g_img\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tthis.srcList = arr;\r\n\t\t});\r\n\t},\r\n\tmounted() {},\r\n\r\n\tgetDrawerTableList(data) {\r\n\t\t// console.log(data);\r\n\t},\r\n\tmethods: {\r\n\t\t// 添加\r\n\t\thandleAdd() {\r\n\t\t\tthis.dialogFormVisibleForAdd = true;\r\n\t\t},\r\n\t\t// 点击图片预览ok\r\n\t\tshow() {\r\n\t\t\tthis.$viewerApi({\r\n\t\t\t\timages: this.srcList, //srcList是个数组,里面不包含对象\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 上传图片\r\n\t\tOnProgress(handleEAddEditformditform) {},\r\n\t\t// 删除\r\n\t\thandleDelete(id, img) {\r\n\t\t\tthis.$confirm(\"删除后不能恢复，确定要删除吗？\", \"提示\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\",\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconsole.log(\"发送删除请求\");\r\n\t\t\t\t\taxios\r\n\t\t\t\t\t\t.delete(\"/api/admin/deletegoods\", {\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\t\timg: img,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tthis.reload();\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tmessage: \"删除成功!\",\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\t\tmessage: \"已取消删除\",\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 编辑\r\n\t\thandleEdit(index, row) {\r\n\t\t\t// console.log(row);\r\n\t\t\tthis.dialogFormVisibleForEdit = true;\r\n\t\t\tthis.handleEditform.id = row.g_id; //id\r\n\t\t\tthis.handleEditform.name = row.g_name; //书名\r\n\t\t\tthis.handleEditform.category = row.c_name; //分类\r\n\t\t\tthis.handleEditform.price = row.g_price; //价格\r\n\t\t\tthis.handleEditform.author = row.g_author; //作者\r\n\t\t\tthis.handleEditform.press = row.g_press; //出版社\r\n\t\t\tthis.handleEditform.time = row.g_time; //出版时间\r\n\t\t\tthis.handleEditform.fontnum = row.g_fontnum; //字数\r\n\t\t\tthis.handleEditform.info = row.g_info; //简介\r\n\t\t\tthis.handleEditform.imageUrl = row.g_img; //图片\r\n\t\t},\r\n\t\t// 编辑确定\r\n\t\tEditOk() {\r\n\t\t\tlet formData = new FormData();\r\n\t\t\tformData.append('g_id',this.handleEditform.id)\r\n\t\t\tformData.append(\"imgfile\", this.file);\r\n\t\t\tformData.append(\"g_name\", this.handleEditform.name);\r\n\t\t\tformData.append(\"c_id\", this.AddEditform.category);\r\n\t\t\tformData.append(\"g_price\", this.handleEditform.price);\r\n\t\t\tformData.append(\"g_author\", this.handleEditform.author);\r\n\t\t\tformData.append(\"g_press\", this.handleEditform.press);\r\n\t\t\tformData.append(\"g_img\", this.handleEditform.imageUrl);\r\n\t\t\tformData.append(\r\n\t\t\t\t\"g_time\",\r\n\t\t\t\tthis.moment(this.handleEditform.time).format(\"YYYY-MM-DD\")\r\n\t\t\t);\r\n\t\t\tformData.append(\"g_fontnum\", this.handleEditform.fontnum);\r\n\t\t\tformData.append(\"g_info\", this.handleEditform.info);\r\n\t\t\t// for (var [key, value] of formData.entries()) {\r\n\t\t\t// \tconsole.log(key, value);\r\n\t\t\t// }\r\n\t\t\taxios\r\n\t\t\t\t.post(\"/api/admin/updategoods\", formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.dialogFormVisibleForEdit = false;\r\n\t\t\t\t\tthis.reload();\r\n\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t//换一张图\r\n\t\thandleChange(file, fileList) {\r\n\t\t\t// this.AddEditform.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\tthis.file = file.raw;\r\n\t\t},\r\n\t\t//上传之前\r\n\t\tbeforeUpload(file) {\r\n\t\t\t// this.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\tif (!isLt2M) {\r\n\t\t\t\tthis.$message.error(\"上传图片大小不能超过 2MB!\");\r\n\t\t\t}\r\n\t\t\treturn isLt2M;\r\n\t\t},\r\n\t\t// 添加时过滤分类出c_id\r\n\t\tselect_value(val) {\r\n\t\t\tlet obj = this.ClassName.filter((item) => {\r\n\t\t\t\treturn item.c_name == val;\r\n\t\t\t});\r\n\t\t\tthis.AddEditform.category = obj[0].c_id;\r\n\t\t\tthis.select_val = obj[0].c_name;\r\n\t\t\t// console.log(this.AddEditform.category);\r\n\t\t\t// console.log(this.select_val);\r\n\t\t},\r\n\t\t// 添加成功\r\n\t\tAddOk() {\r\n\t\t\tlet formData = new FormData();\r\n\t\t\tformData.append(\"imgfile\", this.file);\r\n\t\t\tformData.append(\"g_name\", this.AddEditform.name);\r\n\t\t\tformData.append(\"c_id\", this.AddEditform.category);\r\n\t\t\tformData.append(\"g_price\", this.AddEditform.price);\r\n\t\t\tformData.append(\"g_author\", this.AddEditform.author);\r\n\t\t\tformData.append(\"g_press\", this.AddEditform.press);\r\n\t\t\tformData.append(\r\n\t\t\t\t\"g_time\",\r\n\t\t\t\tthis.moment(this.AddEditform.time).format(\"YYYY-MM-DD\")\r\n\t\t\t);\r\n\t\t\tformData.append(\"g_fontnum\", this.AddEditform.fontnum);\r\n\t\t\tformData.append(\"g_info\", this.AddEditform.info);\r\n\t\t\taxios\r\n\t\t\t\t.post(\"/api/admin/addgoods\", formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.dialogFormVisibleForAdd = false;\r\n\t\t\t\t\tthis.reload();\r\n\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t});\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goods.vue?vue&type=template&id=7f0d4a2a&scoped=true&\"\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f0d4a2a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}